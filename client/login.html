<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="CSS/login.css">
</head>
<body>
    <div>
        <nav id="nav">
            <div class="logo">
             <img src="logo\textlogo.png" alt="logo">
            </div>
            <div class="nav-items">
             <a  href="index.html">Home</a>
             <a href="discover.html">Events</a>
             <a href="./createEvent.html">Create Event</a>
             <a href="./manageEvent.html">Manage Events</a><a href=""></a>
             <a href="./login.html">Login</a> 
             <a href="./register.html">Register</a>
            </div>
           </nav>
    </div>
    <div id="login">
        <div id="style-i">
            <div id="form-i">
                <div>
                    <h1>Log in</h1>
                    <p>Welcome back! Please enter your details.</p>
                </div>
                <div>
                    <label for="">Email</label>
                    <br/>
                    <input type="email" id="email" placeholder="Enter Your Email" required>
                    <br/>
                    <label for="">Password</label>
                    <br/>
                    <input type="password" id="password" placeholder="Enter Your Password" required>
                  <a class="forget" href="forgetpassword.html"> Forgot Password?</a> 
                    <button id="signin-btn">SIGN IN</button>
                </div>
                <div>
                    <!-- <p>------------or--------------</p>
                    <div id="google-login"><img src="logo/google.png" alt=""><p>SIGN IN WITH GOOGLE</p></div>
                    <div id="facebook-login"><img src="logo/facebook.jpg" alt=""><p>SIGN IN WITH FACEBOOK</p></div> -->
                    <p>Don't have an account?<a href="register.html"> Register </a></p>
                </div>
            </div>
        </div>
        <div id="style-ii">
            <img src="logo/login.png" alt="">
            <h1>Welcome to EVENT!</h1>
            <p>Industry-leading event software available without an annual commitment.<br/>Power your event from invitation, to online registration, to check-in.</p>
        </div>
    </div>
    <div id="foot">

        <div id="footer">
             <div class="foot-i">
                <h1>About</h1>
                <p>FAQs</p>
                <p>App Status</p>
                <p>Contact Us</p>
                <p>Privacy Policy</p>
                <p>Reviews</p>
             </div>
             <div class="foot-ii">
                <h1>Features</h1>
                <p>Sell Tickets </p>
                <p>Event Registration</p>
                <p>Event Management</p>
                <p>Guest List Management</p>
                <p>Track Attendlist</p>
             </div>
             <div class="foot-iii"> 
                <h1>Event Software For</h1>
                <p>Holiday Parties </p>
                <p>Education</p>
                <p>Private Events</p>
                <p>Weddings</p>
                <p>Meeting Registration</p>
            </div>
             <div>
                <div class="foot-iv"><h1>Follow Us</h1>
                <div class="social">
                    <div><img src="logo/facebook.jpg" alt="facebook"></div>
                    <div><img src="logo/linkedin.png" alt="linkedin"></div>
                    <div><img src="logo/x.png" alt="x"></div>
                    <div><img src="logo/insta.jpg" alt="instagram"></div>
                    <div><img src="logo/youtube.png" alt="youtube"></div>
                </div>
            </div>
             </div>
         </div>
           <div class="foot-v">
             <img src="logo/textlogo.png" alt="">
             <p>Â© 2024 All Rights Reserved</p>
           </div>
        
     
         </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const signInButton = document.getElementById('signin-btn');
            const emailInput = document.getElementById('email');
            const passwordInput = document.getElementById('password');
            const googleSignInButton = document.getElementById('google-login');
            const facebookSignInButton = document.getElementById('facebook-login');

            signInButton.addEventListener('click', async (e) => {
                e.preventDefault();

                const email = emailInput.value;
                const password = passwordInput.value;

                const response = await fetch('http://localhost:8080/api/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });

                const data = await response.json();
                localStorage.setItem("token",data.token)
                localStorage.setItem("user",JSON.stringify(data.user))
                console.log(data)
              
                if (data.token) {
                    alert(data.message);
                     window.location.href = 'manageEvent.html';
                } else {
                    alert(data.message);
                }
            });

            // googleSignInButton.addEventListener('click', () => {
            //     window.location.href = '/auth/google'; 
            // });

            // facebookSignInButton.addEventListener('click', () => {
            //     window.location.href = '/auth/facebook'; 
            // });
        });
    </script>
</body>
</html>
